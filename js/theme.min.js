jQuery(document).ready(function(){window.results_form_data=function(e){var o={};return e.forEach(function(e,r){o[r]=e}),o}}),(c=>{c(document).ready(function(){c("body").on("click","#button-add-child",function(e){var r,o;r=c("#template-add-child").html(),o=parseInt(c("#ChildsAccountForm").attr("data-count")),c("#input_user__childs_repeater").val(o+1),c("#ChildsAccountForm").attr("data-count",o+1),r=(r=r.replace(/user__childs_repeater_number/g,"user__childs_repeater_".concat(o))).replace(/data_number/g,"".concat(o)),c("#woocommerce-EditChildsAccountForm #ChildsAccountForm").append(r),c("#ChildsAccountForm hr[data-child=0]").remove()})})})(jQuery),(t=>{t(document).ready(function(){function c(){t("html, body").animate({scrollTop:t("#woocommerce-EditChildsAccountForm").offset().top-200},1)}window.xhr=!1,t("#woocommerce-EditChildsAccountForm").on("click","#EditChildsAccountForm-send",function(e){var r,o;window.xhr&&window.xhr.abort(),t(".error").hide(),t(".woocommerce-message").hide(),t(".woocommerce-notices-wrapper").hide(),t(".woocommerce-message[role=alert]").remove(),r=t("#woocommerce-EditChildsAccountForm").serializeArray(),o=new FormData,t.each(r,function(e,r){o.append(r.name,r.value)}),t('#woocommerce-EditChildsAccountForm input[name^="user__childs_repeater_"]').each(function(){var e=t(this).attr("name");e.includes("user__child__medical_treatments")&&void 0===t('input[name="'+e+'"]:checked').val()&&o.append(e,"")}),o.append("action","utbf_ajax_childs_account_form"),window.xhr=t.ajax({url:AJAX_URL.url,method:"POST",contentType:!1,processData:!1,data:o,success:function(e){e=jQuery.parseJSON(e);void 0!==e.error?(t.each(e.error,function(e,r){t(".error."+e).show(),t(".error."+e).html(r)}),t(".woocommerce-message-error").addClass("woocommerce-message"),t(".woocommerce-message-error").show(),c()):void 0!==e.success?location.reload():(t(".woocommerce-message-error-ajax").addClass("woocommerce-message"),t(".woocommerce-message-error-ajax").show(),c())},error:function(e){t(".woocommerce-message-error-ajax").addClass("woocommerce-message"),t(".woocommerce-message-error-ajax").show(),c()}})})})})(jQuery),(c=>{c(document).ready(function(){c("body").on("click",".item-child-delete",function(e){var r,o;confirm(VAR.confirm_delete_child)&&(r=c(this),o=parseInt(c("#ChildsAccountForm").attr("data-count")),c("#input_user__childs_repeater").val(o-1),c("#ChildsAccountForm").attr("data-count",o-1),o=r.attr("data-child"),c("#ChildsAccountForm .wrapper-item-child[data-child="+o+"]").remove(),c("#ChildsAccountForm .wrapper-item-child").each(function(e,r){var o=c(this).html();o=(o=o.replace(/user__childs_repeater_\d+/g,"user__childs_repeater_".concat(e))).replace(/data-child="\d*"/g,'data-child="'.concat(e,'"')),c(this).empty(),c(this).html(o),c(this).attr("data-child",e)}),c("#ChildsAccountForm hr[data-child="+o+"]").remove())})})})(jQuery),(e=>{e(document).ready(function(){0<e(".woocommerce-message").length&&setTimeout(function(){e("html, body").animate({scrollTop:0},1)},200)})})(jQuery),(c=>{c(document).ready(function(){c("#woocommerce-EditChildsAccountForm").on("click",".toggle-button",function(e){var r,o;r=c(this),o=r.attr("data-child"),c(".item-child[data-child="+o+"]").toggleClass("visible"),r.toggleClass("active")})})})(jQuery),(c=>{c(document).ready(function(){c("body").on("change",".user__child__school",function(e){var r,o;r=c(this),o=r.closest(".utbf-user-child-form"),"Autre"==r.val()?o.find(".user__child__other_school").show():(o.find(".user__child__other_school").removeClass("show"),o.find(".user__child__other_school").hide(),o.find(".user__child__other_school").find("input").val(""))})})})(jQuery),(c=>{c(document).ready(function(){window.xhr=!1,c("#utbf-register-form").on("click","#utbf-register-form-send",function(e){var r,o;window.xhr&&window.xhr.abort(),c(".error").hide(),c("#utbf-register-form").find(".wrapper-loader").css("display","flex"),r=c("#utbf-register-form").serializeArray(),o=new FormData,c.each(r,function(e,r){o.append(r.name,r.value)}),"Autre"!=c("#user__child__school").val()&&o.delete("user__child__other_school"),void 0===c('input[name="user__child__medical_treatments"]:checked').val()&&o.append("user__child__medical_treatments",""),o.append("action","utbf_ajax_register_form"),window.xhr=c.ajax({url:AJAX_URL.url,method:"POST",contentType:!1,processData:!1,data:o,success:function(e){e=jQuery.parseJSON(e);(void 0!==e.error?(c.each(e.error,function(e,r){c(".error."+e).show(),c(".error."+e).html(r)}),c("#utbf-register-form-error")):(c("#utbf-register-form").hide(),c("#utbf-register-form-success"))).css("display","flex"),c("#utbf-register-form").find(".wrapper-loader").hide()},error:function(e){}})})})})(jQuery);